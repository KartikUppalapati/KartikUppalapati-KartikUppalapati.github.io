<!DOCTYPE HTML>
<html>
    <head>
        <title>Kartik's Website</title>
        <link rel="stylesheet" href="mystyle.css">
    </head>
    <body>
        <div class="navbar">
            <a href="#home" onclick="animate()" id="homehref">Home</a>
            <a href="#about">About</a>
            <a href="#projects">Projects</a>
            <a id="contact" href="#open-modal">Contact</a>
            <div id="open-modal" class="modal-window">
                <div style="text-align: center;">
                    <a href="#modal-close" class="modal-close"><p style="color: black;">&times;</p></a>
                    <h1 style="font-size: 40px;">Contact Me</h1>
                    <p style="padding-bottom: 15px;">Directly at kartik0109@gmail.com or by using this form</p>
                    <div class="contactMe">
                        <form onsubmit="sendEmail();">
                            <input name="customerName" placeholder="Name *" required="" type="text">
                            <input name="customerEmail" required="" placeholder="Email *" type="email">
                            <input name="customerDescription" placeholder="Description" type="text">
                            <button class="submit">Send</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="progressHeader">
            <div class="progressContainer">
            <div class="progressBar" id="myBar"></div>
            </div> 
        </div>

        <div class="container" onscroll="getScrollLevel()">
            <section id="home">
                <div style="margin: auto;">
                    <div style="text-align: center;">
                        <h1 style="font-size: 100px; color: blanchedalmond;">Kartik Uppalapati</h1>
                        <p style="color: blanchedalmond; font-size: 40px;">Software/Cloud Engineer</p>
                    </div>
                </div>
            </section>

            <section id="about">
                <div class="flexContainer">
                    <div class="flexChild">
                        <div class="aboutContentHolder">
                            <div class="aboutContent">
                                <h1>I'm Kartik Uppalapati</h1>
                                <br>
                                <p>Purdue Class of 2022</p>
                                <p>Math and Computer Science</p>
                                <p>Software/Cloud Engineer</p>
                                <br>
                            </div>
                        </div>
                    </div>
                    <div class="flexChild">
                        <div>
                            <h1 style="font-size: 100px; color: blanchedalmond; text-align: right;">About Me</h1>
                        </div>
                        <div>
                            <a href="Kartik U Resume.pdf" download target="_blank" 
                            class="resumeButton fill" style="color: black; text-decoration: none;">My Resume</a>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="projects">
                <div class="flexContainer">
                    <div class="flexChild">
                        <div>
                            <h1 style="font-size: 100px; color: blanchedalmond;">My Projects</h1>
                        </div>
                    </div>
                    <div class="flexChild typewriter2" style="overflow: hidden;">
                        <div class="cardHolder typewriterItem2" style=" width: 70%; margin-left: 30%;">
                            <div id="cardstuff" class="cardStuff" style="align-items: center;">
                                <div id="buttondiv1" style="width: 15%; padding-left: 15px;">
                                    <button id="buttondiv1button" onclick="prevCard()">&larr;</button>
                                </div>
                                <div class="card" style="width: 70%;">
                                    <div class="content" style="height: 90%; padding: 15px;">
                                        <div style="height: 30%;">
                                            <h3 id="cardContentName">My Personal Website</h3>
                                        </div>
                                        <div style="height: 45%;">
                                            <p id="cardContentDescription"><span>I created this website from scratch using HTML, CSS, and Javascript 
                                                and hosted it on Github Pages to display my projects.
                                                The source code for this project as well as all my other projects
                                                can be found on my <a href="https://github.com/KartikUppalapati?tab=repositories">github</a></span></p>
                                        </div>
                                        <div style="height: 25%;">
                                            <a id="cardContentHref" href="index.html">Click To Refresh</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="buttondiv2" style="width: 15%; padding-right: 15px;">
                                    <button id="buttondiv2button" onclick="nextCard()">&rarr;</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!--
                <div class="veryBottom" id="bottom">
                    <p style="text-align: center;">Statistics are publicly available at <a id="statsref" href="/stats">/stats</a></p>
                    <p style="text-align: center;">Created 5/11/2022 12:13 AM</p>
                    <p style="text-align: center;">Hosted in a C server</p>
                </div>
            -->
        </div>

        <script>
            // Initialize variables
            var cardNum = 1;
            const cardNames = 
            [
                "My Personal Website",
                "Music Downloader", 
            ];
            const cardDescriptions = 
            [
                "I created this website from scratch using HTML, CSS, and Javascript and hosted it on Github Pages to display my projects. The source code for this project as well as all my other projects can be found on my <a href='https://github.com/KartikUppalapati?tab=repositories'>github</a>",
                "This is a java application I created to download songs off of YouTube, scan them to find its metadata and save it as an mp3. The application uses various open source and publicly available software like YouTube-DL, mp3agic, and the Spotify API.", 
            ];
            const cardLinks =
            [
                "index.html",
                "myytld.html",
            ];
            const cardLinksTitles =
            [
                "Click to Refresh",
                "Click to View",
            ];

            // Adding this prevents project card to home page scroll bug
            function animate() 
            {
                var myNameElement = document.getElementById("myname");
            }

            // Go to next card if not at end
            function nextCard()
            {
                if (cardNum < cardNames.length)
                {
                    // Get elements
                    var cardElementName = document.getElementById("cardContentName");
                    var cardElementDescription = document.getElementById("cardContentDescription");
                    var cardElementHref = document.getElementById("cardContentHref");

                    // Change elements
                    cardElementName.innerHTML = cardNames[cardNum];
                    cardElementDescription.innerHTML = cardDescriptions[cardNum];
                    cardElementHref.innerHTML = cardLinksTitles[cardNum];
                    cardElementHref.setAttribute("href", cardLinks[cardNum]);
                    cardElementHref.setAttribute("download", cardLinks[cardNum]);

                    // Adjust global card num
                    cardNum = cardNum + 1
                }
            }

            // Go to prev card if not at 1st card
            function prevCard()
            {
                // If not out of bounds
                if (cardNum - 1 > 0)
                {
                    // Get elements
                    var cardElementName = document.getElementById("cardContentName");
                    var cardElementDescription = document.getElementById("cardContentDescription");
                    var cardElementHref = document.getElementById("cardContentHref");

                    // Change elements
                    cardElementName.innerHTML = cardNames[cardNum - 2];
                    cardElementDescription.innerHTML = cardDescriptions[cardNum - 2];
                    cardElementHref.innerHTML = cardLinksTitles[cardNum - 2];
                    cardElementHref.setAttribute("href", cardLinks[cardNum - 2]);

                    // Adjust global card num
                    cardNum = cardNum - 1
                }
            }

            // Observer to add and remove animation when entering and leaving viewport
            const observer1 = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const myName = entry.target.querySelector('.typewriterItem2');

                    if (entry.isIntersecting) {
                        myName.classList.add('itemAnimationRight');
                        return;
                    }

                    // Not in viewport
                    myName.classList.remove('itemAnimationRight');
                });
            });

            //observer1.observe(document.querySelector('.typewriter2'));

            function sendEmail()
            {
                //alert("Email Successfully Sent!");
                window.location.href = "#modal-close";
            }

            // When the user scrolls the page, execute myFunction
            function getScrollLevel() 
            {
                var containerObject = document.querySelector('.container');
                var winScroll = containerObject.scrollTop || containerObject.scrollTop;
                var height = containerObject.scrollHeight - containerObject.clientHeight;
                var scrolled = (winScroll / height) * 100;
                document.getElementById("myBar").style.width = scrolled + "%";
            }
        </script>
    </body>
</html>